(window.webpackJsonp=window.webpackJsonp||[]).push([[183],{256:function(e,t,r){"use strict";r.r(t),r.d(t,"frontMatter",(function(){return a})),r.d(t,"metadata",(function(){return i})),r.d(t,"toc",(function(){return c})),r.d(t,"default",(function(){return l}));var n=r(3),o=(r(0),r(291)),s=r(293);const a={title:"Response progress"},i={unversionedId:"examples/response-progress",id:"version-3.8.x/examples/response-progress",isDocsHomePage:!1,title:"Response progress",description:"You are able to track the progress response if you need to paint the progress bar, for example.",source:"@site/versioned_docs/version-3.8.x/examples/response-progress.md",slug:"/examples/response-progress",permalink:"/fetch-api/docs/3.8.x/examples/response-progress",editUrl:"https://github.com/mihanizm56/fetch-api/tree/docs/versioned_docs/version-3.8.x/examples/response-progress.md",version:"3.8.x",sidebar:"version-3.8.x/someSidebar",previous:{title:"Query params",permalink:"/fetch-api/docs/3.8.x/examples/query-params"},next:{title:"Retry requests",permalink:"/fetch-api/docs/3.8.x/examples/retry-requests"}},c=[],u={toc:c};function l(e){let{components:t,...r}=e;return Object(o.a)("wrapper",Object(n.a)({},u,r,{components:t,mdxType:"MDXLayout"}),Object(o.a)("p",null,"You are able to track the progress response if you need to paint the progress bar, for example."),Object(o.a)("p",null,"This functionality is built on top of default window.fetch API and it works only for the download process and ",Object(o.a)("strong",{parentName:"p"},"NOT")," for the upload process."),Object(o.a)("p",null,"Not availiable in Node.js environment yet."),Object(o.a)("p",null,"Be careful - this feature uses response.headers.get('Content-Length') method to get full file length.\nSo, from the backend you need to provide Content-Length header.\nSee ",Object(o.a)(s.a,{to:"https://stackoverflow.com/questions/16870904/node-express-content-length",mdxType:"Link"},"this issue"),' if you get zero total value and see "Transfer-Encoding: chunked" header in your response. '),Object(o.a)("pre",null,Object(o.a)("code",{parentName:"pre",className:"language-javascript"},'import { PureRestRequest, IResponse } from "@mihanizm56/fetch-api";\n\nexport const getWhateverRequest = (): Promise<IResponse> =>\n  new PureRestRequest().getRequest({\n    endpoint: "http://localhost:3000",\n    progressOptions: {\n      onLoaded: (total: number) => {/*do smth with total*/};\n      // total - number of bytes that were sent  \n      // onLoaded callback will be called after \n      // the whole response will be done\n      // WARNING - not availiable on nodejs environment\n      onProgress: ({ total, current }:{total: number, current: number}) => {\n        /*do smth with total and current*/\n      }\n      // onProgress callback will be triggered during the response progress when the "current" field will be updated\n      // total - number of bytes that all response contains\n      // current - number of bytes that were sent at the moment of time\n    },\n  });\n')))}l.isMDXComponent=!0},291:function(e,t,r){"use strict";r.d(t,"a",(function(){return d}));var n=r(0),o=r.n(n);function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},s=Object.keys(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var u=o.a.createContext({}),l=function(e){var t=o.a.useContext(u),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},p={inlineCode:"code",wrapper:function(e){var t=e.children;return o.a.createElement(o.a.Fragment,{},t)}},f=o.a.forwardRef((function(e,t){var r=e.components,n=e.mdxType,s=e.originalType,a=e.parentName,u=c(e,["components","mdxType","originalType","parentName"]),f=l(r),d=n,b=f["".concat(a,".").concat(d)]||f[d]||p[d]||s;return r?o.a.createElement(b,i(i({ref:t},u),{},{components:r})):o.a.createElement(b,i({ref:t},u))}));function d(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var s=r.length,a=new Array(s);a[0]=f;var i={};for(var c in t)hasOwnProperty.call(t,c)&&(i[c]=t[c]);i.originalType=e,i.mdxType="string"==typeof e?e:n,a[1]=i;for(var u=2;u<s;u++)a[u]=r[u];return o.a.createElement.apply(null,a)}return o.a.createElement.apply(null,r)}f.displayName="MDXCreateElement"},292:function(e,t,r){"use strict";function n(e){return!0===/^(\w*:|\/\/)/.test(e)}function o(e){return void 0!==e&&!n(e)}r.d(t,"b",(function(){return n})),r.d(t,"a",(function(){return o}))},293:function(e,t,r){"use strict";var n=r(0),o=r.n(n),s=r(10),a=r(292),i=r(8);const c=Object(n.createContext)({collectLink:()=>{}});var u=r(294),l=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r};t.a=function(e){var t,{isNavLink:r,to:p,href:f,activeClassName:d,isActive:b,"data-noBrokenLinkCheck":m,autoAddBaseUrl:h=!0}=e,v=l(e,["isNavLink","to","href","activeClassName","isActive","data-noBrokenLinkCheck","autoAddBaseUrl"]);const{withBaseUrl:g}=Object(u.b)(),y=Object(n.useContext)(c),O=p||f,w=Object(a.a)(O),j=null==O?void 0:O.replace("pathname://",""),x=void 0!==j?(k=j,h&&(e=>e.startsWith("/"))(k)?g(k):k):void 0;var k;const P=Object(n.useRef)(!1),E=r?s.e:s.c,N=i.a.canUseIntersectionObserver;let R;Object(n.useEffect)((()=>(!N&&w&&window.docusaurus.prefetch(x),()=>{N&&R&&R.disconnect()})),[x,N,w]);const C=null!==(t=null==x?void 0:x.startsWith("#"))&&void 0!==t&&t,L=!x||!w||C;return x&&w&&!C&&!m&&y.collectLink(x),L?o.a.createElement("a",Object.assign({href:x},O&&!w&&{target:"_blank",rel:"noopener noreferrer"},v)):o.a.createElement(E,Object.assign({},v,{onMouseEnter:()=>{P.current||(window.docusaurus.preload(x),P.current=!0)},innerRef:e=>{var t,r;N&&e&&w&&(t=e,r=()=>{window.docusaurus.prefetch(x)},R=new window.IntersectionObserver((e=>{e.forEach((e=>{t===e.target&&(e.isIntersecting||e.intersectionRatio>0)&&(R.unobserve(t),R.disconnect(),r())}))})),R.observe(t))},to:x||""},r&&{isActive:b,activeClassName:d}))}},294:function(e,t,r){"use strict";r.d(t,"b",(function(){return s})),r.d(t,"a",(function(){return a}));var n=r(16),o=r(292);function s(){const{siteConfig:{baseUrl:e="/",url:t}={}}=Object(n.default)();return{withBaseUrl:(r,n)=>function(e,t,r,n){let{forcePrependBaseUrl:s=!1,absolute:a=!1}=void 0===n?{}:n;if(!r)return r;if(r.startsWith("#"))return r;if(Object(o.b)(r))return r;if(s)return t+r;const i=r.startsWith(t)?r:t+r.replace(/^\//,"");return a?e+i:i}(t,e,r,n)}}function a(e,t){void 0===t&&(t={});const{withBaseUrl:r}=s();return r(e,t)}}}]);